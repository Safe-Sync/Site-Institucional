<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/styleCadastro.css">
    <title>ByteFlow</title>
</head>
<body>
    <div class="container">
        <div class="card_esquerdo">
            <div class="card_cadastro">
                <div class="titulo_cadastro">Cadastro</div>

                <!-- barra de progresso -->
                <div class="progressbar">
                    <div class="progress" id="progress"></div>
                    <div class="progress-step progress-step-active"></div>
                    <div class="progress-step"></div>
                    <div class="progress-step"></div>
                    <!-- <div class="progress-step"></div> -->
                </div>

                <!-- Primeira etapa do formulario -->
                <div class="form-step form-step-active">
                    <div class="group_input">
                        <input type="text" placeholder="Nome fantasia">
                    </div>
                    <div class="group_input">
                        <input type="text" placeholder="Razão social">
                    </div>
                    <div class="group_input">
                        <input type="text" placeholder="Cnpj">
                    </div>

                    <div class="button_right">
                        <button onclick="validarEtapa1()" href="#" class="btn btn-next width-50 ">Proximo</button>
                    </div>
                </div>

                <!-- Segunda etapa do formulario -->
                <div class="form-step">
                    <div class="group_input">
                        <input type="text" placeholder="Cep">
                    </div>
                    <div class="group_input">
                        <input type="text" placeholder="Nº">
                    </div>
                    <div class="group_input">
                        <input type="text" placeholder="Complemento">
                    </div>

                    <div class="btns-group">
                        <button onclick="voltarEtapas()" href="#" class="btn btn-prev ">Voltar</button>
                        <button onclick="validarEtapa2()" href="#" class="btn btn-next ">Proximo</button>
                    </div>
                </div>
                
                <!-- Terceira etapa do formulario -->
                <div class="form-step">
                    <div class="group_input">
                        <input type="text" placeholder="Telefone">
                    </div>
                    <div class="group_input">
                        <input type="text" placeholder="Email">
                    </div>
                    <div class="group_input">
                        <input type="text" placeholder="Senha">
                    </div>

                    <div class="btns-group">
                        <button onclick="voltarEtapas()" href="#" class="btn btn-prev ">Voltar</button>
                        <button onclick="validarEtapa3()" href="#" class="btn btn-next ">Cadastrar</button>
                    </div>
                </div>

                <!-- <div class="botao_cadastro"><button>Cadastrar</button></div> -->
            </div>
        </div>
        <div class="card_direito">
            <div class="logo_cadastro"><a href="./index.html">SafeSync</a></div>
        </div>
    </div>
</body>
</html>
<script>

    const progresso = document.getElementById("progress");
    const EtapaDoFormulario = document.querySelectorAll(".form-step");
    const ProgressoEtapas = document.querySelectorAll(".progress-step");
    const BotaoVoltar = document.querySelectorAll(".btn-prev");

    var NumeroDaEtapa = 0;

    function validarEtapa1(){

        NumeroDaEtapa++
        AvancarEtapas();
        AvancarBarraDeProgresso();
        
    }

    
    function validarEtapa2() {
        NumeroDaEtapa++
        AvancarEtapas();
        AvancarBarraDeProgresso();
    }

    function validarEtapa3() {
        NumeroDaEtapa++
        AvancarEtapas();
        AvancarBarraDeProgresso();
    }

    function voltarEtapas() {
        NumeroDaEtapa--;
        AvancarEtapas();
        AvancarBarraDeProgresso();
    }

    function AvancarEtapas() {
        EtapaDoFormulario.forEach((formStep) => {
            formStep.classList.contains("form-step-active") &&
                formStep.classList.remove("form-step-active");
        });

        EtapaDoFormulario[NumeroDaEtapa].classList.add("form-step-active");
    }


    function AvancarBarraDeProgresso() {
        ProgressoEtapas.forEach((EtapasFormulario, indice) => {
            if (indice < NumeroDaEtapa + 1) {
                EtapasFormulario.classList.add("progress-step-active");
            } else {
                EtapasFormulario.classList.remove("progress-step-active");
            }
        });

        const progressActive = document.querySelectorAll(".progress-step-active");

        progresso.style.width =
            ((progressActive.length - 1) / (ProgressoEtapas.length - 1)) * 100 + "%";
    }
</script>