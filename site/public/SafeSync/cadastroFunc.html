<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/styleCadFunc.css">
    <link rel="icon" type="imagem/png" href="../SafeSync/assets/img/logotipo.svg">
    <title>Cadastro de funcionários</title>
</head>
<body>
    <aside class="barra_lateral">
        <header class="barra_lateral-header">
                <img class="logo" src="./assets/img/LogoSafeSync.svg" onclick="window.location.href='index.html'" alt="log SafeSync">
                <h3>SafeSync</h3>
        </header>

        <nav class="barra_lateral-nav">
            <div class="divs_group ">
                <a class="text_none" href="#">
                    <img src="./assets/img/Vector.svg" alt="vector icon">
                    <h4>Funcionários</h4>
                </a>
            </div>
            <div class="divs_group text_underline">
                <a href="#">
                    <img src="./assets/img/Vector2.svg" alt="vector+ icon ">
                    <h4>Cadastrar<br>funcionários</h4>
                </a>
            </div>

            
            <span class="sair"><img class="sair_img" src="./assets/img/sair.svg" onclick="window.location.href='index.html'" alt="sair icon"></span>
        </nav>
    </aside>
    <div class="container">
        <div class="separador"></div>
        <div class="card_cadastro">
            <div class="titulo_cadastro">Cadastro</div>
            <div class="group_input">
                <input id="input_nome" type="text" placeholder="Nome Completo">
            </div>
            <div class="group_input">
                <input id="input_cargo" type="text" placeholder="Cargo">
            </div>
            <div class="group_input">
                <input id="input_cpf" type="text" placeholder="Cpf">
            </div>
            <div class="group_input">
                <input id="input_email" type="text" placeholder="Email">
            </div>
            <div class="group_input">
                <input id="input_telefone" type="text" placeholder="Telefone">
            </div>
            <div class="group_input">
                <input id="input_senha" type="text" placeholder="Senha">
            </div>
            <div class="botao_cadastro"><button onclick="cadastrarFuncionario()">Seguinte</button></div>
        </div>
    </div>
</body>
</html>
<script>
    function cadastrarFuncionario() {
        var nomeVar = input_nome.value;
        var cargoVar = input_cargo.value;
        var cpfVar = input_cpf.value;
        var emailVar = input_email.value;
        var telefoneVar = input_telefone.value;
        var senhaVar = input_senha.value;

        fetch("/empresa/cadastrarFuncionario", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                nomeServer: nomeVar,
                cargoServer: cargoVar,
                cpfServer: cpfVar,
                emailServer: emailVar,
                telefoneServer: telefoneVar,
                senhaServer: senhaVar
            })
        }).then(function (resposta) {
            if (resposta.ok) {
                setTimeout(() => {
                    window.location = "./login.html";
                }, "2000")
            } else {
                console.log("Erro ao fazer o cadastro");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });
        return false;
    }
</script>